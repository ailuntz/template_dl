# 简介
轻量级通用深度学习骨架，按需替换数据和模型即可运行。

# 快速开始
- 进入目录：`cd template_dl`
- 创建环境：`conda create -n template_dl python=3.11`
- 激活环境：`conda activate template_dl`
- 安装依赖：`pip install -r requirements-framework.txt`
- 设置路径：`export PYTHONPATH=<项目路径>`
- 预处理：`python scripts/preprocess.py`
- tensorboard日志：`tensorboard --logdir experiments --port 6006`
- 数据下载：配置 `dataset.huggingface_repo` 后，数据目录为空会自动下载（需 `huggingface_hub`）

- 训练示例：`python scripts/train.py --override configs/custom/forecast_m4_dlinear.yaml`
- 训练示例：`python scripts/train.py --override configs/custom/forecast_ett-small_autoformer.yaml`
- 训练示例：`python scripts/train.py --override configs/custom/imputation_ett-small_dlinear.yaml`

- 推理示例：`python scripts/infer.py --override configs/custom/forecast_m4_dlinear.yaml`
- 推理示例：`python scripts/infer.py --override configs/custom/forecast_ett-small_autoformer.yaml`
- 推理示例：`python scripts/infer.py --override configs/custom/imputation_ett-small_dlinear.yaml`

- 评估示例：`python scripts/evaluate.py --override configs/custom/forecast_ett-small_dlinear.yaml`
- 评估示例：`python scripts/evaluate.py --override configs/custom/forecast_ett-small_autoformer.yaml`
- 评估示例：`python scripts/evaluate.py --override configs/custom/forecast_m4_dlinear.yaml`

- 断点续练示例：`python scripts/train.py --override configs/custom/forecast_ett-small_dlinear.yaml --resume`

## 文件结构
```
project/
├── configs/
│   ├── default.yaml
│   ├── full.yaml
│   └── custom/                # 具体实验配置
├── datasets/                  # 数据集目录
├── src/
│   ├── data/                  # 数据集与DataModule
│   ├── layers/                # 通用层
│   ├── lit_modules/           # 任务模块
│   ├── losses/                # 损失
│   ├── metrics.py             # 指标
│   ├── models/                # 模型
│   ├── optimizers/            # 优化器
│   ├── predict/               # 预测结果保存
│   ├── utils/                 # 配置与工具
│   │   └── hf.py              # 数据集下载
│   └── callbacks/
│       ├── checkpoint.py
│       ├── early_stopping.py
│       └── logger.py
├── scripts/
│   ├── preprocess.py          # 数据预处理
│   ├── train.py               # 训练入口
│   ├── infer.py               # 推理
│   └── evaluate.py            # 批量评估
├── experiments/               # 按实验归档日志、权重、指标
│   └── <experiment_name>/
│       ├── checkpoints/
│       ├── tensorboard/
│       └── metrics.json
├── results/                   # 结果输出
├── requirements-framework.txt
└── README.md
```
